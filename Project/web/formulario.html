<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Teste de POST</title>
</head>
<body style="font-family: sans-serif; padding: 20px;">
    <h2>Testando o Método POST</h2>

    <form id="meuFormulario">
        <label for="mensagem">Digite uma mensagem para o servidor C:</label><br><br>
        <input type="text" id="mensagem" name="mensagem" size="40" required>
        <button type="submit">Enviar via POST</button>
    </form>

    <br>
    <p id="respostaServidor" style="color: green; font-weight: bold;"></p>

    <script>
        document.getElementById('meuFormulario').addEventListener('submit', function(evento) {
            evento.preventDefault();

            const textoDigitado = document.getElementById('mensagem').value;

            const dadosParaEnviar = "conteudo=" + encodeURIComponent(textoDigitado);

            fetch('/enviar-dados', {
                method: 'POST', 
                headers: {
                    'Content-Type': 'application/x-www-form-urlencoded'
                },
                body: dadosParaEnviar
            })
            .then(resposta => resposta.text())
            .then(texto => {
                document.getElementById('respostaServidor').innerText = texto;
            })
            .catch(erro => console.error("Erro na comunicação:", erro));
        });
    </script>
</body>
</html>
